@page "/applications/edit/{Id:int}"
@page "/applications/create"

@using CXManagement.Application.DTOs.CX_Application
@using Microsoft.AspNetCore.Components.Forms

<h3>@(IsEdit ? "Edit Application" : "Create Application")</h3>

@if (IsLoading)
{
    <p>Loading...</p>
}
else if (!string.IsNullOrEmpty(ErrorMessage))
{
    <p class="text-danger">@ErrorMessage</p>
}
else
{
    <EditForm Model="Model" OnValidSubmit="HandleValidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <div class="mb-3">
            <label class="form-label">Name</label>
            <InputText class="form-control" @bind-Value="Model.CXAName" />
        </div>

        <button type="submit" class="btn btn-success">@((IsEdit) ? "Update" : "Create")</button>
        <button type="button" class="btn btn-secondary ms-2" @onclick="Cancel">Cancel</button>
    </EditForm>
}
